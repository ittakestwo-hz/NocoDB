# 内建集合数据类型

除了数值类和布尔类，Python 还有众多强大的內建集合类。

列表、字符串以及元组是概念上非常相似的有序集合，但是只有理解它们的差别，才能正确运用。

集和字典是无序集合。列表是零个或多个指向 Python 数据对象的引用的有序集合，通过在方括号内以逗号分隔的一系列值来表达。空列表就是[]。

列表是异构的，这意味着其指向的数据对象不需要都是同一个类，并且这一集合可以被赋值给一个变量。

下面的代码段展示了列表含有多个不同的 Python 数据对象。

```
>>> [1,3,True,6.5]
[1, 3, True, 6.5]
>>> myList = [1,3,True,6.5]
>>> myList
[1, 3, True, 6.5]
```

注意，当 Python 计算一个列表时，这个列表自己会被返回。然而，为了记住该列表以便后续处理，其引用需要被赋给一个变量。

由于列表是有序的，因此它支持一系列可应用于任意 Python 序列的运算，如下表“可应用于任意 Python 序列的运算”所示：

| 运算名 | 运算符 | 解释               |
| ------ | ------ | ------------------ |
| 索引   | `[]`   | 取序列中的某个元素 |
| 连接   | `+`    | 将序列连接在一起   |
| 重复   | `*`    | 重复 N 次连接      |
| 成员   | `in`   | 询问序列中是否有某元素 |
| 长度   | `len`  | 询问序列的元素个数 |
| 切片   | `[:]`  | 取出序列的一部分   |

需要注意的是，列表和序列的下标从 `0` 开始。`myList[1:3]` 会返回一个包含下标从 `1` 到 `2` 的元素列表（并没有包含下标为 `3` 的元素）。

如果需要快速初始化列表，可以通过重复运算来实现，如下所示：

```
>>> myList = [0] * 6 
>>> myList 
[0, 0, 0, 0, 0, 0]
```

非常重要的一点是，重复运算返回的结果是序列中指向数据对象的引用的重复。下面的例子可以很好地说明这一点。

变量A包含3个指向myList的引用。myList中的一个元素发生改变，A中的3处都随即改变。
列表支持一些用于构建数据结构的方法，如表1-3所示。后面的例子展示了用法。

你会发现，像pop这样的方法在返回值的同时也会修改列表的内容，reverse等方法则仅
修改列表而不返回任何值。pop默认返回并删除列表的最后一个元素，但是也可以用来返回并删
除特定的元素。这些方法默认下标从0开始。你也会注意到那个熟悉的句点符号，它被用来调用
某个对象的方法。myList.append(False)可以读作“请求myList调用其append方法并将
False这一值传给它”。就连整数这类简单的数据对象都能通过这种方式调用方法。

在上面的代码中，我们请求整数对象54执行其add方法（该方法在 Python 中被称为
__add__），并且将21作为要加的值传给它。其结果是两数之和，即75。我们通常会将其写作
54+21。稍后会更多地讨论这些方法。
range是一个常见的 Python 函数，我们常把它与列表放在一起讨论。range会生成一个代
表值序列的范围对象。使用list函数，能够以列表形式看到范围对象的值。下面的代码展示了
这一点。

范围对象表示整数序列。默认情况下，它从0开始。如果提供更多的参数，它可以在特定的
点开始和结束，并且跳过中间的值。在第一个例子中，range(10)从0开始并且一直到9为止（不
包含10）；在第二个例子中，range(5,10)从5开始并且到9为止（不包含10）；range(5,10,2)
的结果类似，但是元素的间隔变成了2（10还是没有包含在其中）。
字符串是零个或多个字母、数字和其他符号的有序集合。这些字母、数字和其他符号被称为
字符。常量字符串值通过引号（单引号或者双引号均可）与标识符进行区分。

由于字符串是序列，因此之前提到的所有序列运算符都能用于字符串。此外，字符串还有一
些特有的方法，表1-4列举了其中一些。

split在处理数据的时候非常有用。split接受一个字符串，并且返回一个由分隔字符作为
分割点的字符串列表。在本例中，v就是分割点。如果没有提供分隔字符，那么split方法将会寻找如制表符、换行符和空格等空白字符。
列表和字符串的主要区别在于，列表能够被修改，字符串则不能。列表的这一特性被称为可
修改性。列表具有可修改性，字符串则不具有。例如，可以通过使用下标和赋值操作来修改列表
中的一个元素，但是字符串不允许这一改动。由于都是异构数据序列，因此元组与列表非常相似。它们的区别在于，元组和字符串一样是
不可修改的。元组通常写成由括号包含并且以逗号分隔的一系列值。与序列一样，元组允许之前
描述的任一操作。然而，如果尝试改变元组中的一个元素，就会遇到错误。请注意，错误消息指明了问题的出
处及原因。集（set）是由零个或多个不可修改的 Python 数据对象组成的无序集合。集不允许重复元素，
并且写成由花括号包含、以逗号分隔的一系列值。空集由set()来表示。集是异构的，并且可以通过下面的方法赋给变量。尽管集是无序的，但它还是支持之前提到的一些运算，如表1-5所示。集支持一系列方法，如表1-6所示。在数学中运用过集合概念的人应该对它们非常熟悉。注最后要介绍的 Python 集合是字典。字典是无序结构，由相关的元素对构成，其中每对元素
都由一个键和一个值组成。这种键
–
值对通常写成键:值的形式。字典由花括号包含的一系列以逗
号分隔的键
–
值对表达，如下所示。
意，union、intersection、issubset和difference都有可用的运算符。可以通过键访问其对应的值，也可以向字典添加新的键
–
值对。访问字典的语法与访问序列
的语法十分相似，只不过是使用键来访问，而不是下标。添加新值也类似。需要谨记，字典并不是根据键来进行有序维护的。第一个添加的键
–
值对（'Utah':'Salt-
LakeCity'）被放在了字典的第一位，第二个添加的键
–
值对（'California':'Sacramento'）
则被放在了最后。键的位置是由散列来决定的，第5章会详细介绍散列。以上示例也说明，len
函数对字典的功能与对其他集合的功能相同。
字典既有运算符，又有方法。表1-7和表1-8分别展示了它们。keys、values和items方
法均会返回包含相应值的对象。可以使用list函数将字典转换成列表。在表1-8中可以看到，
get方法有两种版本。如果键没有出现在字典中，get会返回None。然而，第二个可选参数可
以返回特定值。