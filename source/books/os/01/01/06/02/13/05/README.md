# 设置加密分区

为了保证数据的机密性，例如在计算机或硬盘丢失或被盗的情况下，可以对某些分区上的数据进行加密。这个功能可以添加到任何文件系统下，因为，和 LVM 一样，Linux（特别是 dm-crypt 驱动程序）使用设备映射器（Device Mapper）基于底层分区创建一个虚拟分区（其内容被保护），这个虚拟分区将数据以加密形式存储（通过 LUKS，Linux 统一密钥设置，LUKS 是一个标准格式，它支持存储加密数据和指示所使用加密算法的元信息）。

**_安全提示_ 加密交换分区**

当使用加密分区时，加密密钥会存储在内存（RAM）中。由于只要获得此密钥就能解密数据，因此避免留下任何可能被计算机或硬盘盗窃者、或者维护人员访问的密钥副本是至关重要的。然而，使用笔记本电脑时，这种情况很容易发生，因为在休眠时，RAM 的内容会存储在交换分区中。如果这个分区没有加密，盗窃者可能会访问密钥并使用它解密加密分区中的数据。因此，当你使用加密分区时，务必也加密交换分区！

Debian 安装程序会在用户尝试创建加密分区，而交换分区未加密的情况下发出警告。

要创建加密分区，首先需要为此目的分配一个可用的分区。为此，选择一个分区并指定它作为“加密物理卷”。然后，在分区工具中，选择“配置加密卷”。软件将提议用随机数据初始化物理卷（这会使实际数据的定位更加困难），并要求你输入一个“加密密码短语”，每次启动计算机时，必须输入此密码短语以访问加密分区的内容。一旦完成此步骤，返回到分区工具菜单，新的“加密卷”分区就会出现，你可以像任何其他分区一样进行配置。在大多数情况下，此分区会作为 LVM 的物理卷来使用，从而使用相同的加密密钥保护多个分区（LVM 逻辑卷），包括交换分区（参见侧栏 [_安全提示_ 加密交换分区](https://www.debian.org/doc/manuals/debian-handbook/sect.installation-steps.en.htmlsect.installation-steps.en.html#sidebar.encrypted-swap-partition)）。