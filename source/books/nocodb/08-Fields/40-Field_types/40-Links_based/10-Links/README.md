# 链接

`Links` （链接） 字段类型用于在表之间建立关系并创建指向其他记录的链接。NocoDB 支持以下类型的关系：

- `Has-Many` - 一个表中的记录可以在另一个表中拥有多条记录。
  - 例如：一个 `Country` 可以有多个 `Cities`。
- `Belongs-to` - 一个表中的多条记录可以在另一个表中有一条记录。
  - 例如：一个 `City` `Belongs-to` 一个 `Country`。
- `Many-to-Many` - 一个表中的多条记录可以在另一个表中有多条记录。
  - 例如：一个 `Student` 可以有多个 `Subjects`，而一个 `Subject` 可以有多个 `Students`。

注意

- 链接只能在同一数据库中的表之间创建。
- 支持自我引用链接。（链接到同一表）
- 对于每个定义的 `Has-Many` 关系，NocoDB 会自动在相邻表中增强 `Belongs-to` 关系字段。

## 创建链接字段

1. 点击 `Fields header` 右侧的 `+` 图标。
2. 在下拉模态框中，输入字段名称（可选）。
3. 从下拉菜单中选择字段类型为 `Links` （链接）。
4. 选择关系类型：`One-to-one`、`Has-Many` 或 `Many-to-Many`。
5. 选择要建立关系的表。
6. 高级设置：配置用于在单元格中显示的标签。默认为 `Link`、`Links` （链接）（可选）。
7. 点击 `Save Field` 按钮。

您可以通过限制可供选择的记录来控制 `Link records` 模态框中的记录可见性。

### 单元格显示

单元格将显示与相关表的记录链接数量。

点击链接文本将打开一个 `Linked records` （链接记录） 模态框，列出链接及相关附加信息。

### 列出链接记录

链接记录的列表将以下拉方式显示，包含链接记录作为卡片。关于模态框组件的简要说明：

1. 搜索栏，用于缩小显示的链接记录列表。
2. 图标表示 `Many-to-Many` 关系。计数表示链接记录的数量。
3. 链接记录的列表（卡片）。
4. 要查看附加信息（扩展记录），将鼠标悬停在卡片上并点击 `<>` 图标。
5. 点击 `-` 图标以解除链接记录。
6. 点击 `+ New record` 按钮以创建并将新记录链接到当前记录。
7. 点击 `Link more records` 以链接现有记录。
8. 分页条。

### 链接新记录

可以通过以下方式打开添加新链接的模态框：

- 点击 `Linked records` （链接记录） 模态框中的 `+ Link more Records` 按钮。
- 点击单元格中的 `+` 图标（在单击单元格时出现）。

关于模态框组件的简要说明：

1. 搜索栏，用于缩小显示的记录列表。
2. 图标表示 `Many-to-Many` 关系。计数表示链接记录的数量。
3. 可用于链接的记录列表（卡片）。
4. 在链接之前查看附加信息（扩展记录），将鼠标悬停在卡片上并点击 `<>` 图标。
5. 点击 `+` 图标以链接记录。
6. 点击 `+ New record` 按钮以创建并将新记录链接到当前记录。
7. 分页条。

信息

可以一次链接多条记录。

### 解除链接记录

要解除链接记录，请打开 `Linked records` （链接记录） 模态框，并点击要解除链接记录的卡片上的 `-` 图标。

信息

可以一次解除多条记录链接。

## 限制记录选择

此功能使用户能够限制 `Link records` 模态框中可供选择的记录。可以通过两种方式实现：

- 按视图限制
- 按筛选器限制 ☁

注意：

- 这些选项不是互斥的，可以一起使用。当两者都使用时，可供选择的记录将是满足所有条件的记录的**交集**。
- 此功能仅影响可供选择的记录，**不影响现有链接**。
- 限制仅应用于**Link records** 模态框，并不限制通过 API、复制粘贴或其他机制进行链接修改的过程。
- **按筛选器限制**选项仅在云版本中可用。

### 按视图限制

要根据视图限制可供选择的记录，请按照以下步骤操作：

#### 步骤

1. 启用 `Limit record selection to view`。
2. 从下拉菜单中选择视图。
3. 点击 `Save Field` 按钮。

在上面的示例图片中，可供选择的记录将限制为 `Trailers` 视图中可用的记录。

注意：

- 一次只能选择一个视图。
- 删除与链接字段相关的视图将禁用按视图限制选项。
- 在视图内的筛选器变化也会反映在链接时可供选择的记录中。

### 按筛选器限制 ☁

要根据筛选器限制可供选择的记录，请按照以下步骤操作：

#### 步骤

1. 启用 `Limit record selection by filter`。
2. 配置筛选器。

   - 点击 `Add filter` 按钮。
   - 选择字段、运算符。
   - 配置值。

3. 点击 `Save Field` 按钮。

在上面的示例图片中，可供选择的记录将限制为 `Trailers` 视图中 `rating` 为 `PG` 的记录。

注意：

- 可以添加多个筛选器。
- 删除与链接字段相关的字段将禁用相关筛选器。

#### 筛选器类型

筛选器中的条件可以分为两种类型：静态和动态。

- **静态条件**：筛选器值是常量。
- **动态条件**：筛选器值是当前记录的字段值。

使用筛选器右侧的 ⚙️ 图标在静态和动态筛选器值之间切换。

注意，允许在筛选器中混合使用静态和动态条件。

- [查找](https://docs.nocodb.com/fields/field-types/links-based/lookup)
- [汇总](https://docs.nocodb.com/fields/field-types/links-based/rollup)