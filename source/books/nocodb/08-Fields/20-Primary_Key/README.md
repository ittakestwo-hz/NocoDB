# 主键

主键是一个特殊的数据库表字段，用于唯一标识每个表记录。

## 主键的使用

由于它唯一地识别表的单个记录，因此 NocoDB 在与记录相关的所有操作中会内部使用它。

## NocoDB 中的主键

在 NocoDB 中定义/使用的主键取决于基础表的创建方式。总结如下：

1. 从用户界面创建新表 / 从 Excel 导入 / 从 CSV 导入
   1. 表创建时默认创建的 `ID` \[数据类型：整型\] 系统字段被用作主键。
   2. 默认插入额外的系统字段 `created-at` 和 `updated-at`。
2. 连接到现有外部数据库
   1. 为表定义的现有 `primary key` 字段将被保留；NocoDB 不会插入新的 ID 字段。
   2. 默认不插入额外的系统字段 `created-at` 和 `updated-at`。
3. 从 Airtable 导入
   1. Airtable 记录 ID 被标记为导入记录的主键，并映射到字段 `ncRecordId` \[数据类型：varchar\]。
   2. 如果在迁移后插入新记录且在记录插入期间省略了 ncRecordId 字段，NocoDB 将插入自动生成的字符串。
   3. 整个记录的计算哈希值存储在系统字段 `ncRecordHash` 中。
   4. 默认不插入额外的系统字段 `created-at` 和 `updated-at`。
4. 使用 SDK / API 创建新表
   1. NocoDB 不会引入默认的主键字段。必须在表创建期间明确指定（使用属性 `pk: true`）。

> **如果缺少主键怎么办？**
> 可以创建没有主键的表。
    > - 外部数据库表可以在没有主键配置的情况下创建。
    > - 可以使用 SDK / API 创建没有主键的新表。
    在这种情况下，可以在 NocoDB 中为该表创建新记录，但由于没有办法唯一识别这些记录，因此无法更新或删除记录。

> **我可以将主键更改为表中的其他字段吗？**
> - 不能通过 NocoDB 用户界面更新主键。可以直接在数据库级别重新配置它，并显式触发 `meta sync`。